<!DOCTYPE HTML>

<html>
	<head>
		<title>Concert</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
		<link rel="icon" type="image/png" sizes="32x32" href="favicon/fav-32.png">
  		<link rel="icon" type="image/png" sizes="16x16" href="favicon/fav-16.png">
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
					<div id="main">
						<div class="inner">

							<!-- Header -->
								<header id="header">
									<h3><strong>Concert Photos</strong></h3>
								</header>

							<!-- Banner -->
								<section id="banner">
									<div class="content">
										<header>
											<h1>Concerts I've attended</h1>
											<nav class="scroll-buttons">
												<button onclick="document.getElementById('ive-section-1').scrollIntoView({behavior: 'smooth'})">IVE - Show What I Have</button>
												<button onclick="document.getElementById('aespa-section').scrollIntoView({behavior: 'smooth'})">Aespa - Synk: Parallel Line</button>
												<button onclick="document.getElementById('ive-section-2').scrollIntoView({behavior: 'smooth'})">IVE - Show What I Am</button>
											</nav>
										</header>
									</div>
								</section>

							<!-- IVE Section -->
								<section id="ive-section-1">
									<header class="major">
										<h2>IVE - Show What I Have (24/02/24)</h2>
									</header>
									<div class="masonry">
										<div class="img-container"><img src="concert photos/yujin.jpg" alt="yujin" loading="eager"></div>
										<div class="img-container"><img src="concert photos/gaeul.jpg" alt="gaeul" loading="lazy"></div>
										<div class="img-container"><img src="concert photos/rei.jpg" alt="rei" loading="lazy"></div>								
										<div class="img-container"><img src="concert photos/wonyoung.jpg" alt="wonyoung" loading="lazy"></div>								
										<div class="img-container"><img src="concert photos/liz.jpg" alt="liz" loading="lazy"></div>								
										<div class="img-container"><img src="concert photos/leeseo.jpg" alt="leeseo" loading="lazy"></div>								
										<div class="img-container"><img src="concert photos/ive.jpg" alt="ive" loading="lazy"></div>
									</div>
								</section>

							<!-- Aespa Section -->
								<section id="aespa-section">
									<header class="major">
										<h2>Aespa - Synk: Parallel Line (20/07/24)</h2>
									</header>
									<div class="masonry">
										<div class="img-container"><img src="concert photos/karina.jpg" alt="karina" loading="eager"></div>      
										<div class="img-container"><img src="concert photos/winter.jpg" alt="winter" loading="lazy"></div>      
										<div class="img-container"><img src="concert photos/giselle.jpg" alt="giselle" loading="lazy"></div>       
										<div class="img-container"><img src="concert photos/ningning.jpg" alt="ningning" loading="lazy"></div>      
										<div class="img-container"><img src="concert photos/ningning winter.jpg" alt="ningning winter" loading="lazy"></div>       
										<div class="img-container"><img src="concert photos/giselle karina.jpg" alt="giselle karina" loading="lazy"></div>      
										<div class="img-container"><img src="concert photos/aespa.jpg" alt="aespa" loading="lazy"></div>
									</div>
								</section>

							<!-- IVE Section 2 -->
								<section id="ive-section-2">
									<header class="major">
										<h2>IVE - Show What I Am (09/05/26)</h2>
									</header>
									<div class="masonry">
										This is an upcoming concert
									</div>
								</section>

							<!-- Template 
								<section id="">
									<header class="major">
										<h2>Group - Concert Name (Date)</h2>
									</header>
									<div class="masonry">
										<div class="img-container"><img src="concert photos/" alt="" data-full=""></div>
									</div>
								</section>
							-->
						</div>
					</div>	


				<!-- Sidebar -->
					<div id="sidebar">
						<div class="inner">

							<!-- Menu -->
								<nav id="menu">
									<header class="major">
										<h2>Menu</h2>
									</header>
									<ul>
										<li><a href="index.html">Homepage</a></li>
										<li><a href="books.html">Books</a></li>
										<li><a href="origami.html">Origami</a></li>
										<li>
											<span class="opener active">Concert Photos</span>
											<ul>
												<button onclick="document.getElementById('ive-section-1').scrollIntoView({behavior: 'smooth'})">IVE - Show What I Have</button>
												<button onclick="document.getElementById('aespa-section').scrollIntoView({behavior: 'smooth'})">Aespa - Synk: Parallel Line</button>
												<button onclick="document.getElementById('ive-section-2').scrollIntoView({behavior: 'smooth'})">IVE - Show What I Am</button>
											</ul>
										</li>
										<li><a href="travel.html">Travel Photos</a></li>
									</ul>
								</nav>

							<!-- Section -->
								<section>
									<header class="major">
										<h2>Get in touch</h2>
									</header>
									<ul class="contact">
										<li class="icon solid fa-envelope"><a href="mailto:lou.jiajun@u.nus.edu" target="_blank" rel="noopener noreferrer"> lou.jiajun@u.nus.edu</a></li>
										<li class="icon brands fa-github"><a href="https://github.com/SharkWhale9" target="_blank" rel="noopener noreferrer">SharkWhale9</a></li>
										<li class="icon brands fa-linkedin"><a href="https://www.linkedin.com/in/lou-jia-jun/" target="_blank" rel="noopener noreferrer">Lou Jia Jun Â· LinkedIn</a></li>
									</ul>
								</section>

							<!-- Footer -->
								<footer id="footer">
									<p class="copyright">&copy; 2025 WhaleShark. All rights reserved. <br> Design: <a href="https://html5up.net" target="_blank" rel="noopener noreferrer">HTML5 UP</a>.</p>
								</footer>
						</div>
					</div>
			</div>
		
		<!-- Back To Top Button-->
			<a href="#" id="back-to-top" title="Back to top"><i class="fas fa-chevron-up"></i></a>


		<!-- Lightbox-->
			<div id="lightbox" class="lightbox hidden">
				<button class="lightbox-nav left" id="prev-btn">&#10094;</button>
				<div class="lightbox-content">
					<img id="lightbox-img" src="" alt="Lightbox image" />
					<button class="lightbox-close" id="lightbox-close">&times;</button>
				</div>
				<button class="lightbox-nav right" id="next-btn">&#10095;</button>
			</div>
		
		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>
			<script>
				const lightbox = document.getElementById('lightbox');
				const lightboxImg = document.getElementById('lightbox-img');
				const closeBtn = document.getElementById('lightbox-close');
				const prevBtn = document.getElementById('prev-btn');
				const nextBtn = document.getElementById('next-btn');

				const images = Array.from(document.querySelectorAll('.img-container img'));
				let currentIndex = 0;

				function showImage(index) {
					const img = images[index];
					const fullSrc = img.getAttribute('data-full') || img.src;
					lightboxImg.src = fullSrc;
					currentIndex = index;
				}

				function openLightbox(index) {
					showImage(index);
					lightbox.classList.remove('hidden');
					document.body.classList.add('lightbox-active');  // disable sidebar toggle
					// Block scrolling on body while lightbox is open
					document.body.style.overflow = 'hidden';
				}

				function closeLightbox() {
					lightbox.classList.add('hidden');
					lightboxImg.src = '';
					document.body.classList.remove('lightbox-active');  // enable sidebar toggle
					// Restore scrolling
					document.body.style.overflow = '';
				}

				images.forEach((img, index) => {
					img.addEventListener('click', () => {
					openLightbox(index);
					});
				});

				closeBtn.addEventListener('click', () => {
					closeLightbox();
				});

				prevBtn.addEventListener('click', () => {
					currentIndex = (currentIndex - 1 + images.length) % images.length;
					showImage(currentIndex);
				});

				nextBtn.addEventListener('click', () => {
					currentIndex = (currentIndex + 1) % images.length;
					showImage(currentIndex);
				});
			</script>
			<script>
				// Show button after scrolling down 200px
				window.addEventListener('scroll', function () {
					const backToTop = document.getElementById('back-to-top');
					if (window.scrollY >300) {
					backToTop.style.display = 'block';
					} else {
					backToTop.style.display = 'none';
					}
				});

				// Smooth scroll to top when clicked
				document.getElementById('back-to-top').addEventListener('click', function (e) {
					e.preventDefault();
					window.scrollTo({ top: 0, behavior: 'smooth' });
				});
			</script>
			<script src="https://unpkg.com/imagesloaded@5/imagesloaded.pkgd.min.js"></script>
			<script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>
			<script>
				let masonryInstances = [];

				// Initialize Masonry once
				function initMasonry() {
					document.querySelectorAll('.masonry').forEach(function (grid) {
						// Check if Masonry instance already exists
						let msnry = masonryInstances.find(m => m.element === grid);

						if (!msnry) {
							msnry = new Masonry(grid, {
								itemSelector: '.img-container',
								percentPosition: true,
								transitionDuration: '0.2s'
							});
							masonryInstances.push({ instance: msnry, element: grid });

							// Layout after each image loads
							imagesLoaded(grid).on('progress', function () {
								msnry.layout();
							});
						} else {
							// If already exists, just layout
							msnry.instance.layout();
						}
					});
				}

				document.addEventListener("DOMContentLoaded", initMasonry);

				// ---- Debounced resize ----
				let resizeTimeout;
				window.addEventListener('resize', function () {
					clearTimeout(resizeTimeout);
					resizeTimeout = setTimeout(() => {
						masonryInstances.forEach(m => m.instance.layout());
					}, 150);
				});

				// ---- Sidebar mutation observer ----
				const sidebar = document.getElementById('sidebar');
				if (sidebar) {
					const observer = new MutationObserver(() => {
						// Wait for transition to finish
						setTimeout(() => {
							masonryInstances.forEach(m => m.instance.layout());
						}, 300);
					});

					observer.observe(sidebar, {
						attributes: true,
						attributeFilter: ['class', 'style']
					});
				}
			</script>

	</body>
</html>